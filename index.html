<html>
  <head>
    <title>Waffles' House</title>
    <meta property="og:title" content="Waffles' House"/>
    <meta property="og:image" content="waffles-portrait.png"/>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <header>
      <div class="center-text"><h2>A dog's world</h2></div>
    </header>
    <section id="welcome-section">
      <h3>Welcome!</h3>
      <img src="waffles-portrait.png" alt="Waffles Portrait" id="portrait"/>
      <div id="treat"></div>
      <p>A-woof, woof! *sniff* Oh, I mean, nice to meet you!</p>
      <p>My name is Waffles, and I'm a stuffed dog adopted by my mommy, Yi. I love being petted and playing with humans. I'm barely one year old, but I'm paw-sitive we'll get along. Click around my website to learn more about me!</p>
      <details id="quick-facts">
        <summary>Quick facts</summary>
        <table>
          <tr>
            <td>Breed</td>
            <td>Idk, I'm "manufactured"</td>
          </tr>
          <tr>
            <td>Date adopted</td>
            <td>June 15, 2024</td>
          </tr>
          <tr>
            <td>Special traits</td>
            <td>I can be microwaved and warm up the humans around me!</td>
          </tr>
          <tr>
            <td>Favorite joke (today)</td>
            <td><p id="joke-1">Thinking...</p><p id="joke-2"></p></td>
          </tr>
        </table>
      </details>
    </section>
    <section id="walks-section">
      <h3>Best walks around campus and NYC</h3>
      <small>Hover or tap to view more about each location</small>
      <div class="flexbox-column" id="walks-table">
        <div class="flexbox-row">
          <div class="div-location"><p>Cornell Tech Campus</p></div>
          <div class="div-description"><p>Campus is small, yet there are lot's of cool places to visit!</p></div>
        </div>
      <div class="flexbox-row">
          <div class="div-location"><p>Roosevelt Island South End</p></div>
          <div class="div-description"><p>I love walking around Roosevelt Island as well! There are so many perfect spots to admire the scenery and the main Manhattan island from afar... without all the scary noise of cars and people! If you keep going south, there's a rescue shelter with lots of other animal friends! I wish Yi would go there more often so I could play with them. Maybe one day, we'll even rescue a cat from them!</p></div>
        </div>
      <div class="flexbox-row">
          <div class="div-location">That one place that one time when we took the bus to Queens to get pizza and then went to the park</div>
          <div class="div-description"><p>There was one time we rode a bus to Queens and then got some pizza, then walked around in the park nearby! I forgot where it was though! Hmm, which bus and pizza place was it? There's not that many in New York, right?</p></div>
        </div>

      </div>
    </section>
    <script>
      async function fetchData() {
        const url = "https://v2.jokeapi.dev/joke/Any?safe-mode";
        try {
          const response = await fetch(url);
          const json = await response.json();
          console.log(json);
          if (json.type === 'single') {
            document.getElementById('joke-1').textContent = json.joke;
          } else {
            document.getElementById('joke-1').textContent = json.setup;
            document.getElementById('joke-2').textContent = json.delivery;
          }
        }
        catch (err) {
          console.error(err.message);
        }
      }
      let timer;

      function onMouseOverEvent(event) {
        document.getElementById('treat').textContent = '*sniff* Is that a treat?! *pants*';
        clearTimeout(timer);
        timer = setTimeout(()=>{document.getElementById('treat').textContent = "";}, 1000);
      }
      const img = document.getElementById('portrait');
      img.addEventListener('mousemove', onMouseOverEvent);
      fetchData();

    </script>
  </body>
</html>
